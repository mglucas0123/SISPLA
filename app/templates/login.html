
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <title>Login - SISPLA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
</head>

<body class="login-body">
    <!-- Background Animation -->
    <div class="login-bg-animation"></div>
    
    <!-- Main Container -->
    <div class="login-main-container">
        <!-- Left Panel - Branding -->
        <div class="login-brand-panel">
            <div class="login-brand-overlay"></div>
            <div class="login-brand-content">
                <!-- Animated Brand Icon -->
                <div class="login-brand-icon-wrapper">
                    <div class="login-heartbeat-effect"></div>
                    <i class="bi bi-hospital login-brand-icon"></i>
                </div>
                
                <!-- Brand Information -->
                <div class="login-brand-info">
                    <h1 class="login-brand-title">Central do Colaborador</h1>
                    <p class="login-brand-subtitle">Sistema Integrado de Planejamento e Aprendizagem</p>
                    <p class="login-brand-description">
                        Centralize e facilite o acesso a todos os serviços e informações do hospital em um só lugar.
                        Uma experiência moderna e intuitiva para nossos colaboradores.
                    </p>
                </div>

                <!-- Status Indicator -->
                <div class="login-status-indicator">
                    <div class="login-status-dot"></div>
                    <span class="login-status-text">Sistema Online</span>
                </div>

                <!-- Features List -->
                <div class="login-features">
                    <div class="login-feature-item">
                        <i class="bi bi-shield-check"></i>
                        <span>Acesso Seguro</span>
                    </div>
                    <div class="login-feature-item">
                        <i class="bi bi-clock"></i>
                        <span>Disponível 24/7</span>
                    </div>
                    <div class="login-feature-item">
                        <i class="bi bi-people"></i>
                        <span>Colaborativo</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Login Form -->
        <div class="login-form-panel">
            <div class="login-form-container">
                <!-- Header -->
                <div class="login-form-header">
                    <div class="login-form-icon">
                        <i class="bi bi-box-arrow-in-right"></i>
                    </div>
                    <h2 class="login-form-title">Bem-vindo(a) de volta!</h2>
                    <p class="login-form-subtitle">Acesse sua conta para continuar</p>
                </div>

                <!-- Flash Messages -->
                {% include 'partials/_flash_messages.html' %}

                <!-- Login Form -->
                <form class="login-form" method="POST" action="{{ url_for('auth.login') }}" novalidate>
                    <!-- Username Field -->
                    <div class="login-form-group">
                        <label for="username" class="login-form-label">
                            <i class="bi bi-person"></i>
                            Usuário
                        </label>
                        <div class="login-input-wrapper">
                            <input 
                                type="text" 
                                class="login-form-input" 
                                id="username" 
                                name="username" 
                                placeholder="Digite seu usuário"
                                required
                            >
                            <div class="login-input-focus-border"></div>
                        </div>
                    </div>

                    <!-- Password Field -->
                    <div class="login-form-group">
                        <label for="password" class="login-form-label">
                            <i class="bi bi-lock"></i>
                            Senha
                        </label>
                        <div class="login-input-wrapper">
                            <input 
                                type="password" 
                                class="login-form-input" 
                                id="password" 
                                name="password" 
                                placeholder="Digite sua senha"
                                required
                            >
                            <button type="button" class="login-password-toggle" id="togglePassword">
                                <i class="bi bi-eye"></i>
                            </button>
                            <div class="login-input-focus-border"></div>
                        </div>
                    </div>

                    <!-- Login Button -->
                    <button type="submit" class="login-submit-btn">
                        <span class="login-btn-content">
                            <i class="bi bi-box-arrow-in-right"></i>
                            Entrar no Sistema
                        </span>
                        <div class="login-btn-ripple"></div>
                    </button>
                </form>

                <!-- Footer Info -->
                <div class="login-form-footer">
                    <div class="login-security-info">
                        <i class="bi bi-shield-lock"></i>
                        <span>Sua conexão é segura e criptografada</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Form validation
        (() => {
            'use strict';
            const form = document.querySelector('.login-form');
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        })();

        // Password toggle
        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#password');

        if (togglePassword && password) {
            togglePassword.addEventListener('click', function () {
                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                password.setAttribute('type', type);

                const icon = this.querySelector('i');
                if (icon) {
                    icon.classList.toggle('bi-eye');
                    icon.classList.toggle('bi-eye-slash');
                }
            });
        }

        // Input focus effects
        const inputs = document.querySelectorAll('.login-form-input');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            input.addEventListener('blur', function() {
                if (!this.value) {
                    this.parentElement.classList.remove('focused');
                }
            });
        });

        // Button ripple effect
        const loginBtn = document.querySelector('.login-submit-btn');
        loginBtn.addEventListener('click', function(e) {
            const ripple = this.querySelector('.login-btn-ripple');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('active');
            
            setTimeout(() => {
                ripple.classList.remove('active');
            }, 600);
        });
    </script>
</body>

</html>
