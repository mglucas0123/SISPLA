<section class="profile-section active" id="section-perfil">
    <div class="section-header">
        <h2><i class="bi bi-person-vcard"></i>Meu Perfil</h2>
    </div>
    <div class="section-body">
        <form class="profile-form" id="formEditarPerfil" method="POST"
            action="{{ url_for('user.update_profile') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" name="name" value="{{ current_user.name }}"
                        placeholder="Seu nome completo">
                </div>
                <div class="form-group">
                    <label class="form-label">Nome de Usuário</label>
                    <input type="text" class="form-control" value="{{ current_user.username }}" readonly
                        disabled>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input type="email" class="form-control" name="email" value="{{ current_user.email }}"
                        placeholder="seu.email@empresa.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Cargo</label>
                    <input type="text" class="form-control"
                        value="{{ current_user.cargo or 'Não definido' }}" readonly disabled>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Setor / Departamento</label>
                    <input type="text" class="form-control"
                        value="{% for role in current_user.roles %}{{ role.name }}{% if not loop.last %}, {% endif %}{% else %}Não definido{% endfor %}"
                        readonly disabled>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="resetForm()">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check2 me-1"></i>Salvar Alterações
                </button>
            </div>
        </form>
    </div>
</section>

{# Scripts da seção Perfil #}
<script>
    function resetForm() {
        const form = document.getElementById('formEditarPerfil');
        if (form) form.reset();
    }
</script>
