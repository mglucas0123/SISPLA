// NIR Module Styles - Extending Forms Design System
.nir-container {
    background: #f8f9fa;
    padding: 2rem 0;
}

// NIR Specific Badges
.nir-badge-urgencia {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
    color: white;
}
 
.nir-badge-eletivo {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
    color: white; 
}

.nir-badge-cirurgico {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
    color: white;
}

.nir-badge-clinico {
    background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%) !important;
    color: white;
}

.nir-status-finalizado {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    color: white;
}

.nir-status-pendente {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
    color: white;
}

// Enhanced action buttons for NIR
.forms-action-delete {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    
    &:hover {
        background: rgba(239, 68, 68, 0.2);
        transform: translateY(-1px);
    }
}

.nir-header {
    text-align: left;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border-left: 5px solid #dc3545;
    
    .icon-wrapper {
        display: none;
    }
    
    h1 {
        color: #dc3545;
        font-weight: 700;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        
        i {
            margin-right: 0.75rem;
            font-size: 1.5rem;
        }
    }
    
    p {
        color: #6c757d;
        margin-bottom: 0;
    }
}

.nir-card {
    border-radius: 15px;
    background: white;
    border: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    
    .card-header {
        background: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
        padding: 1.5rem;
        
        h5 {
            color: #dc3545;
            font-weight: 600;
            margin: 0;
            
            i {
                margin-right: 0.5rem;
            }
        }
    }
    
    .card-body {
        padding: 2rem;
    }
}

.nir-form-section {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid #e9ecef;
    
    h6 {
        color: #dc3545;
        font-weight: 600;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid rgba(220, 53, 69, 0.2);
        
        i {
            margin-right: 0.5rem;
        }
    }
}

.nir-form-control {
    border: 2px solid #e9ecef;
    border-radius: 10px;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
    background: white;
    
    &:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        background: white;
    }
    
    &::placeholder {
        color: #6c757d;
    }
}

.nir-form-label {
    font-weight: 600;
    color: #495057;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.nir-btn-primary {
    background: #dc3545;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 2rem;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(220, 53, 69, 0.2);
    transition: all 0.3s ease;
    color: white;
    
    &:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        background: #c82333;
        color: white;
    }
}

.nir-btn-secondary {
    background: rgba(108, 117, 125, 0.1);
    border: 2px solid rgba(108, 117, 125, 0.3);
    color: #6c757d;
    border-radius: 12px;
    padding: 0.75rem 2rem;
    font-weight: 600;
    transition: all 0.3s ease;
    
    &:hover {
        background: rgba(108, 117, 125, 0.2);
        border-color: rgba(108, 117, 125, 0.5);
        color: #495057;
        transform: translateY(-2px);
    }
}

.nir-action-buttons {
    display: flex;
    gap: 1rem;
    justify-content: space-between;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid rgba(102, 126, 234, 0.1);
}

// List View Styles
.nir-filters-card {
    .card-body {
        padding: 1.5rem;
    }
}

.nir-table-container {
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    
    .table {
        margin: 0;
        
        thead {
            background: #dc3545;
            
            th {
                color: white;
                font-weight: 600;
                border: none;
                padding: 1rem;
                font-size: 0.9rem;
            }
        }
        
        tbody {
            tr {
                transition: all 0.3s ease;
                
                &:hover {
                    background: rgba(102, 126, 234, 0.05);
                    transform: scale(1.01);
                }
                
                td {
                    padding: 1rem;
                    vertical-align: middle;
                    border-top: 1px solid rgba(102, 126, 234, 0.1);
                }
            }
        }
    }
}

.nir-badge {
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-weight: 500;
    font-size: 0.8rem;
    
    &.bg-success {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    }
    
    &.bg-danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
    }
    
    &.bg-warning {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
    }
    
    &.bg-info {
        background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%) !important;
    }
    
    &.bg-primary {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
    }
}

.nir-pagination {
    .page-link {
        border: none;
        color: #dc3545;
        border-radius: 8px;
        margin: 0 2px;
        
        &:hover {
            background: rgba(220, 53, 69, 0.1);
            color: #c82333;
        }
    }
    
    .page-item.active .page-link {
        background: #dc3545;
        border: none;
    }
}

// Details View Styles
.nir-details-section {
    margin-bottom: 2rem;
    
    h5 {
        color: #667eea;
        font-weight: 600;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid rgba(102, 126, 234, 0.2);
        
        i {
            margin-right: 0.5rem;
        }
    }
}

.nir-detail-item {
    margin-bottom: 1rem;
    
    .form-label {
        font-weight: 600;
        color: #6c757d;
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }
    
    p {
        font-weight: 500;
        color: #495057;
        margin: 0;
        
        &.text-monospace {
            background: #f8f9fa;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.9rem;
        }
    }
}

// Responsive Design
@media (max-width: 768px) {
    .nir-container {
        padding: 1rem 0;
    }
    
    .nir-header {
        margin-bottom: 1.5rem;
        
        .icon-wrapper {
            width: 60px;
            height: 60px;
            
            i {
                font-size: 1.5rem;
            }
        }
        
        h1 {
            font-size: 1.5rem;
        }
    }
    
    .nir-card {
        border-radius: 15px;
        
        .card-body {
            padding: 1.5rem;
        }
    }
    
    .nir-form-section {
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    .nir-action-buttons {
        flex-direction: column;
        gap: 0.5rem;
        
        .btn {
            width: 100%;
        }
    }
    
    .nir-table-container {
        .table {
            font-size: 0.8rem;
            
            thead th,
            tbody td {
                padding: 0.5rem;
            }
        }
    }
}

@media (max-width: 576px) {
    .nir-form-section {
        h6 {
            font-size: 1rem;
        }
    }
    
    .nir-table-container {
        .table {
            font-size: 0.75rem;
            
            thead th,
            tbody td {
                padding: 0.25rem;
            }
        }
    }
}

// ------------------ NEW DASHBOARD STYLES FOR NIR LIST ------------------
.nir-dashboard {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.nir-stat-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.25rem;
}

.nir-stat-card {
    position: relative;
    background: linear-gradient(135deg,#ffffff 0%,#f5f7fa 100%);
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    padding: 1.35rem 1.25rem 1.5rem;
    overflow: hidden;
    box-shadow: 0 6px 18px -4px rgba(17,24,39,0.08), 0 2px 6px -2px rgba(17,24,39,0.05);
    transition: all .35s ease;
    backdrop-filter: blur(6px);
    cursor: pointer;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: .35rem;
    &:before {
        content: '';
        position: absolute;
        top: -40%;
        right: -40%;
        width: 140%;
        height: 140%;
        background: radial-gradient(circle at center, rgba(220,53,69,0.08) 0%, rgba(220,53,69,0) 65%);
        pointer-events: none;
    }
    &:hover { transform: translateY(-6px); box-shadow: 0 14px 30px -8px rgba(17,24,39,0.18),0 6px 14px -4px rgba(17,24,39,0.12); text-decoration:none; }
    &__icon { width: 54px; height:54px; border-radius:16px; display:flex; align-items:center; justify-content:center; font-size:1.45rem; font-weight:600; margin-bottom:.35rem; background:linear-gradient(135deg,#dc3545,#b91c1c); color:#fff; box-shadow:0 6px 16px -4px rgba(220,53,69,.55); }
    &__number { font-size:2.15rem; font-weight:700; line-height:1; letter-spacing:-1px; background:linear-gradient(90deg,#111827,#374151); -webkit-background-clip:text; background-clip:text; color:transparent; margin:0; }
    &__label { font-size:.7rem; font-weight:700; text-transform:uppercase; letter-spacing:.12em; color:#6b7280; margin:0; }
    .nir-stat-card__trend { font-size:.65rem; font-weight:600; letter-spacing:.05em; display:inline-flex; align-items:center; gap:.25rem; color:#059669; }
    &--warning .nir-stat-card__icon { background:linear-gradient(135deg,#f59e0b,#d97706); box-shadow:0 4px 12px -3px rgba(245,158,11,.5); }
    &--info .nir-stat-card__icon { background:linear-gradient(135deg,#3b82f6,#2563eb); box-shadow:0 4px 12px -3px rgba(59,130,246,.5); }
    &--success .nir-stat-card__icon { background:linear-gradient(135deg,#10b981,#059669); box-shadow:0 4px 12px -3px rgba(16,185,129,.5); }
    &--danger .nir-stat-card__icon { background:linear-gradient(135deg,#ef4444,#dc2626); box-shadow:0 4px 12px -3px rgba(239,68,68,.5); }
}

/* Make anchor stat cards remove default link styling */
.nir-stat-cards a.nir-stat-card { text-decoration:none; color:inherit; }

/* Active filter card state */
.nir-stat-card.is-active {
    border:2px solid #6366f1;
    box-shadow:0 0 0 3px rgba(99,102,241,0.35), 0 8px 24px -6px rgba(17,24,39,.22) !important;
    transform:translateY(-4px);
}
.nir-stat-card.is-active:before { background: radial-gradient(circle at center, rgba(99,102,241,0.18) 0%, rgba(99,102,241,0) 70%); }

.nir-filters-modern {
    background:#ffffff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:1.25rem 1.25rem .75rem;
    box-shadow:0 6px 20px -4px rgba(17,24,39,0.12),0 2px 6px -2px rgba(17,24,39,0.06);
    position:relative;
    .form-label { font-size:.65rem; font-weight:700; letter-spacing:.08em; text-transform:uppercase; color:#9ca3af; }
    input.form-control { border:2px solid #e5e7eb; border-radius:12px; padding:.65rem .9rem; font-size:.9rem; &:focus { border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,0.25);} }
    .nir-filters-actions { display:flex; gap:.75rem; align-items:flex-end; }
    .btn-filter { background:linear-gradient(135deg,#6366f1,#4f46e5); border:none; color:#fff; font-weight:600; padding:.65rem 1.2rem; border-radius:12px; box-shadow:0 4px 12px -2px rgba(79,70,229,.5); &:hover{filter:brightness(1.07);} }
    .btn-clear { background:#f3f4f6; border:2px solid #e5e7eb; color:#374151; font-weight:600; padding:.65rem 1.2rem; border-radius:12px; &:hover{background:#e5e7eb;} }
}

.nir-table-modern-wrapper { border:1px solid #e5e7eb; border-radius:22px; overflow:hidden; background:#fff; box-shadow:0 8px 28px -6px rgba(17,24,39,.15),0 4px 12px -4px rgba(17,24,39,.08); margin-left:auto; margin-right:auto; }
.nir-table-modern { width:100%; border-collapse:separate; border-spacing:0; font-size:.85rem; text-align:center; 
    thead th { background:linear-gradient(135deg,#dc3545,#b91c1c); color:#fff; font-weight:600; font-size:.7rem; letter-spacing:.07em; text-transform:uppercase; padding:.9rem .85rem; border:none; }
    tbody tr { transition:all .25s ease; }
    tbody tr:hover { background:linear-gradient(90deg,rgba(220,53,69,.04),rgba(220,53,69,.02)); }
    tbody td { padding:.85rem .85rem; border-top:1px solid #f1f5f9; vertical-align:middle; text-align:center; }
    tbody tr:first-child td { border-top:none; }
    .cell-id .badge { font-size:.65rem; letter-spacing:.05em; padding:.45rem .55rem; border-radius:8px; background:linear-gradient(135deg,#6366f1,#4f46e5); }
    .cell-patient strong { font-weight:600; font-size:.9rem; }
    .cell-patient small { font-size:.65rem; font-weight:500; letter-spacing:.05em; text-transform:uppercase; color:#6b7280; }
    .cell-entry .badge { border-radius:8px; font-size:.6rem; font-weight:700; letter-spacing:.05em; padding:.5rem .6rem; }
    td .badge[title] { cursor: help; }
    
        // Subtle spacing for icons inside badges & buttons in NIR table
        .nir-table-modern .badge i, .nir-table-modern .btn i {
            margin-right: 2px;
        }
    
        // Disabled outline-secondary buttons keep consistent cursor & opacity
        .nir-table-modern .btn[disabled] {
            pointer-events: none;
            opacity: .55;
        }
    .progress { height:12px; background:#f1f5f9; border-radius:10px; overflow:hidden; box-shadow:inset 0 1px 2px rgba(0,0,0,0.05); }
    .progress-bar { font-size:0; line-height:0; background:linear-gradient(90deg,#10b981,#059669); }
    .progress-bar.danger { background:linear-gradient(90deg,#ef4444,#dc2626); }
    .progress-bar.warning { background:linear-gradient(90deg,#f59e0b,#d97706); }
    .btn-group .btn { border-radius:10px !important; font-size:.65rem; font-weight:600; letter-spacing:.05em; padding:.5rem .7rem; display:inline-flex; gap:.35rem; align-items:center; }
}

/* Custom fluxo phase badge palette */
.badge-fx-inicial { background:linear-gradient(135deg,#2563eb,#1d4ed8) !important; color:#fff !important; }
.badge-fx-aguardando { background:linear-gradient(135deg,#f59e0b,#d97706) !important; color:#1f2937 !important; }
.badge-fx-alta { background:linear-gradient(135deg,#6366f1,#4f46e5) !important; color:#fff !important; }
.badge-fx-encerrado { background:linear-gradient(135deg,#6b7280,#4b5563) !important; color:#fff !important; }
.badge-fx-finalizado { background:linear-gradient(135deg,#059669,#047857) !important; color:#fff !important; }
.badge-fx-aguardando-fat { background:linear-gradient(135deg,#0ea5e9,#0369a1) !important; color:#fff !important; }

/* Waiting filter chips */
.nir-wait-chip { 
    display:inline-flex; align-items:center; gap:.4rem; font-size:.65rem; font-weight:600; letter-spacing:.05em;
    text-transform:uppercase; padding:.55rem .75rem; border-radius:999px; background:#f3f4f6; color:#374151; border:2px solid #e5e7eb;
    transition:all .25s ease; text-decoration:none;
}
.nir-wait-chip:hover { background:#e5e7eb; text-decoration:none; }
.nir-wait-chip i { font-size:.85rem; }
.nir-wait-chip.active { background:linear-gradient(135deg,#6366f1,#4f46e5); color:#fff; border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,.25); }
.nir-wait-chip.chip-surgery.active { background:linear-gradient(135deg,#f59e0b,#d97706); border-color:#d97706; box-shadow:0 0 0 3px rgba(245,158,11,.35); }
.nir-wait-chip.chip-billing.active { background:linear-gradient(135deg,#0ea5e9,#0369a1); border-color:#0ea5e9; box-shadow:0 0 0 3px rgba(14,165,233,.35); }

.nir-empty-state { text-align:center; padding:4rem 2rem; background:#fff; border:2px dashed #e5e7eb; border-radius:24px; box-shadow:0 4px 14px -4px rgba(17,24,39,.08);
        i { font-size:3.5rem; background:linear-gradient(135deg,#dc3545,#b91c1c); -webkit-background-clip:text; background-clip:text; color:transparent; display:inline-block; margin-bottom:1rem; }
    h4 { font-weight:700; color:#374151; }
    p { color:#6b7280; font-weight:500; }
    a.btn { margin-top:.75rem; }
}

.nir-breadcrumb-actions { display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; }

@media (max-width: 992px){
    .nir-stat-cards { grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); }
    .nir-table-modern { font-size:.8rem; }
}

@media (max-width: 576px){
    .nir-stat-card { padding:1rem 1.1rem; }
    .nir-stat-card__number { font-size:1.7rem; }
    .nir-table-modern thead th { font-size:.55rem; padding:.6rem .5rem; }
    .nir-table-modern tbody td { padding:.55rem .5rem; }
}

.nir-row-status { transition: background-color .25s ease; }
.nir-row-pendente { background: #ffd7d7 !important; }
.nir-row-pendente:hover { background: #ffc4c4 !important; }
.nir-row-andamento { background: #fef3c7 !important; }
.nir-row-andamento:hover { background: #fde68a !important; }
.nir-row-concluido { background: #dcfce7 !important; }
.nir-row-concluido:hover { background: #bbf7d0 !important; }

/* Compact icon buttons for row actions */
.nir-icon-btn { 
    --btn-size: 34px;
    width: var(--btn-size); height: var(--btn-size); padding:0; border-radius:12px; display:inline-flex; align-items:center; justify-content:center;
    font-size:1rem; line-height:1; border:2px solid transparent; font-weight:600; position:relative; overflow:hidden;
    background:#f3f4f6; color:#374151; transition:all .25s ease; text-decoration:none !important;
}
.nir-icon-btn i { pointer-events:none; }
.nir-icon-btn:hover { background:#e5e7eb; }
.nir-icon-btn:focus { outline:none; box-shadow:0 0 0 3px rgba(99,102,241,.35); }
.nir-icon-btn:active { transform:scale(.94); }

.nir-view-btn { 
    background:linear-gradient(135deg,#2563eb,#1d4ed8); color:#fff; border:none; box-shadow:0 4px 14px -4px rgba(37,99,235,.55);
    transition:background .28s ease, box-shadow .28s ease, transform .18s ease;
}
.nir-view-btn:hover { 
    background:linear-gradient(135deg,#1d4ed8,#1e40af); 
    box-shadow:0 6px 20px -6px rgba(29,78,216,.65),0 4px 10px -2px rgba(29,78,216,.45);
}
.nir-view-btn:focus { 
    box-shadow:0 0 0 3px rgba(96,165,250,.45),0 6px 18px -6px rgba(29,78,216,.55);
}
.nir-view-btn:active { 
    background:linear-gradient(135deg,#1e40af,#1e3a8a); 
    transform:translateY(1px) scale(.95);
    box-shadow:0 3px 10px -4px rgba(30,64,175,.55);
}

/* When only view button present (locked rows), adjust spacing */
td .btn-group .nir-icon-btn + .nir-icon-btn { margin-left:.4rem; }
